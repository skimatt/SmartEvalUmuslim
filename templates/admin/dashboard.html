{% extends "admin/admin_base.html" %}
{% block content %}

<h1 class="text-3xl font-bold font-heading text-gray-800 mb-6 border-b pb-2">Ringkasan Utama Sistem SmartEval</h1>

<!-- 1. Key Metric Cards (Ringkasan Data) -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
    
    <!-- Card 1: Total Laporan Aktif -->
    {% set total_active = active_reports_count + pending_count %}
    <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-indigo-500">
        <div class="flex justify-between items-center">
            <div>
                <p class="text-sm font-semibold uppercase text-indigo-500">Laporan Aktif</p>
                <p class="text-3xl font-heading font-extrabold text-gray-900 mt-1">{{ active_reports_count }}</p>
            </div>
            <i data-lucide="bell" class="w-8 h-8 text-indigo-500"></i>
        </div>
        <p class="text-xs text-gray-500 mt-3">Laporan yang masih Diproses/Pending.</p>
    </div>

    <!-- Card 2: Permintaan Verifikasi (PENTING) -->
    <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-yellow-500">
        <div class="flex justify-between items-center">
            <div>
                <p class="text-sm font-semibold uppercase text-yellow-600">Verifikasi Akun</p>
                <p class="text-3xl font-heading font-extrabold text-gray-900 mt-1">{{ pending_count }}</p>
            </div>
            <i data-lucide="user-check" class="w-8 h-8 text-yellow-600"></i>
        </div>
        <a href="{{ url_for('admin.verification_list') }}" class="text-xs text-yellow-700 hover:underline mt-3 inline-block font-medium">
            Tinjau Pendaftar <i data-lucide="arrow-right" class="w-3 h-3 inline ml-1"></i>
        </a>
    </div>

    <!-- Card 3: Total Evaluasi Dosen -->
    <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-primary" style="border-color: #009879;">
        <div class="flex justify-between items-center">
            <div>
                <p class="text-sm font-semibold uppercase color-primary">Total Rating</p>
                <p class="text-3xl font-heading font-extrabold text-gray-900 mt-1">{{ total_ratings_count }}</p>
            </div>
            <i data-lucide="star" class="w-8 h-8 color-primary"></i>
        </div>
        <a href="{{ url_for('admin.statistics_dashboard') }}" class="text-xs text-primary-dark hover:underline mt-3 inline-block font-medium" style="color: #0F8A5F;">
            Lihat Statistik <i data-lucide="arrow-right" class="w-3 h-3 inline ml-1"></i>
        </a>
    </div>

     <!-- Card 4: Total Dosen -->
    <div class="bg-white p-6 rounded-2xl shadow-xl border-t-4 border-gray-400">
        <div class="flex justify-between items-center">
            <div>
                <p class="text-sm font-semibold uppercase text-gray-500">Total Dosen</p>
                <p class="text-3xl font-heading font-extrabold text-gray-900 mt-1">{{ lecturers | length if lecturers is defined else '0' }}</p>
            </div>
            <i data-lucide="users" class="w-8 h-8 text-gray-500"></i>
        </div>
         <a href="{{ url_for('admin.manage_lecturers') }}" class="text-xs text-gray-700 hover:underline mt-3 inline-block font-medium">
            Kelola Data <i data-lucide="arrow-right" class="w-3 h-3 inline ml-1"></i>
        </a>
    </div>
</div>

<!-- 2. Shortcut Pintasan (Tombol Cepat) -->
<h2 class="text-2xl font-bold font-heading text-gray-800 mb-4 border-t pt-4">Pintasan Aksi</h2>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
    
    <a href="{{ url_for('admin.manage_reports') }}" class="flex items-center justify-center p-4 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-xl font-semibold transition duration-200 shadow-md">
        <i data-lucide="list-checks" class="w-5 h-5 mr-2"></i> Laporan
    </a>
    <a href="{{ url_for('admin.verification_list') }}" class="flex items-center justify-center p-4 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-xl font-semibold transition duration-200 shadow-md">
        <i data-lucide="user-plus" class="w-5 h-5 mr-2"></i> Verifikasi
    </a>
    <a href="{{ url_for('admin.add_edit_lecturer') }}" class="flex items-center justify-center p-4 bg-green-100 hover:bg-green-200 text-green-800 rounded-xl font-semibold transition duration-200 shadow-md">
        <i data-lucide="graduation-cap" class="w-5 h-5 mr-2"></i> Tambah Dosen
    </a>
    <a href="{{ url_for('admin.statistics_dashboard') }}" class="flex items-center justify-center p-4 bg-indigo-100 hover:bg-indigo-200 text-indigo-800 rounded-xl font-semibold transition duration-200 shadow-md">
        <i data-lucide="line-chart" class="w-5 h-5 mr-2"></i> Statistik
    </a>
</div>

<!-- 3. Visualization Placeholder (Peringatan) -->
<div class="p-6 bg-yellow-50 border border-yellow-200 rounded-xl shadow-md">
    <h3 class="text-xl font-heading font-semibold text-yellow-800 flex items-center">
        <i data-lucide="alert-triangle" class="w-6 h-6 mr-3"></i> Catatan Visualisasi
    </h3>
    <p class="text-sm text-yellow-700 mt-2">
        Grafik dan visualisasi data yang kompleks (Trend Laporan, Ranking Dosen) ditampilkan secara detail di halaman **Dashboard Statistik**.
    </p>
    <a href="{{ url_for('admin.statistics_dashboard') }}" class="text-sm font-medium text-yellow-800 hover:underline mt-2 inline-block">
        Akses Dashboard Statistik Lengkap â†’
    </a>
</div>

<script>
    // Panggil Lucide Icons saat DOM siap
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    });
</script>
{% endblock content %}