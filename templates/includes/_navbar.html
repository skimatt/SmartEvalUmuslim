<!-- ==========================
     NAVBAR SMART EVAL UMU â€” LOGO RESMI
============================== -->
<nav class="bg-white shadow-md border-b sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex justify-between items-center h-16">

      <!-- LOGO OFFICIAL UMUSLIM -->
      <a href="{{ url_for('main.home') }}" class="flex items-center space-x-3 group">

        <img src="{{ url_for('static', filename='assets/logo/Logo_Universitas_Almuslim.png') }}"
             alt="Logo UMUSLIM"
             class="w-10 h-10 rounded-full object-cover shadow-sm group-hover:scale-105 transition duration-200" />

        <div>
          <span class="text-xl font-extrabold text-[#009879] tracking-wide">
            SmartEval UMU
          </span>
          <p class="text-xs text-gray-500 -mt-1">Matang Geulempang Dua</p>
        </div>
      </a>

      <!-- MENU DESKTOP -->
      <div class="hidden md:flex items-center space-x-6">

        {% if current_user.is_authenticated %}

          <!-- SAPAAN -->
          <span class="text-gray-600 text-sm">
            Halo,
            <a href="{{ url_for('main.profile') }}" class="font-semibold text-[#0F8A5F] hover:underline">
              {{ current_user.nama_lengkap }}
            </a>
            ({{ current_user.role.capitalize() }})
          </span>

          <!-- DASHBOARD -->
          {% if current_user.role == 'admin' %}
            <a href="{{ url_for('admin.dashboard') }}"
               class="flex items-center gap-1 bg-[#009879] text-white px-4 py-2 rounded-lg text-sm shadow hover:bg-[#0f7b63] transition">
              <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard Admin
            </a>

          {% elif current_user.role == 'mahasiswa' %}
            <a href="{{ url_for('mahasiswa.dashboard') }}"
               class="flex items-center gap-1 bg-[#009879] text-white px-4 py-2 rounded-lg text-sm shadow hover:bg-[#0f7b63] transition">
              <i data-lucide="user" class="w-4 h-4"></i> Dashboard Saya
            </a>
          {% endif %}

          <!-- LOGOUT -->
          <a href="{{ url_for('main.logout') }}"
             class="flex items-center gap-1 bg-red-500 text-white px-4 py-2 rounded-lg text-sm shadow hover:bg-red-600 transition">
            <i data-lucide="log-out" class="w-4 h-4"></i> Logout
          </a>

        {% else %}

          <!-- AJUKAN AKUN -->
          <a href="{{ url_for('main.request_account') }}"
             class="flex items-center gap-1 text-[#009879] font-medium hover:text-[#0F8A5F] transition">
            <i data-lucide="badge-plus" class="w-4 h-4"></i> Ajukan Akun
          </a>

          <!-- LOGIN -->
          <a href="{{ url_for('main.login') }}"
             class="flex items-center gap-1 bg-[#0F8A5F] text-white px-4 py-2 rounded-lg text-sm shadow hover:bg-[#0c754d] transition">
            <i data-lucide="log-in" class="w-4 h-4"></i> Login
          </a>

        {% endif %}
      </div>

      <!-- BTN MOBILE -->
      <button id="navToggle" class="md:hidden">
        <i data-lucide="menu" class="w-7 h-7 text-[#009879]"></i>
      </button>

    </div>
  </div>

  <!-- MOBILE MENU -->
  <div id="mobileMenu" class="hidden md:hidden px-4 pb-4 space-y-2">

    {% if current_user.is_authenticated %}
      <p class="text-gray-600 text-sm pt-2">
        Halo,
        <a href="{{ url_for('main.profile') }}" class="font-semibold text-[#009879]">
          {{ current_user.nama_lengkap }}
        </a>
      </p>

      {% if current_user.role == 'admin' %}
        <a href="{{ url_for('admin.dashboard') }}"
           class="flex items-center gap-2 bg-[#009879] text-white w-full px-4 py-2 rounded-lg shadow">
          <i data-lucide="layout-dashboard" class="w-4 h-4"></i> Dashboard Admin
        </a>
      {% elif current_user.role == 'mahasiswa' %}
        <a href="{{ url_for('mahasiswa.dashboard') }}"
           class="flex items-center gap-2 bg-[#009879] text-white w-full px-4 py-2 rounded-lg shadow">
          <i data-lucide="user" class="w-4 h-4"></i> Dashboard Saya
        </a>
      {% endif %}

      <a href="{{ url_for('main.logout') }}"
         class="flex items-center gap-2 bg-red-500 text-white w-full px-4 py-2 rounded-lg shadow">
        <i data-lucide="log-out" class="w-4 h-4"></i> Logout
      </a>

    {% else %}
      <a href="{{ url_for('main.request_account') }}"
         class="flex items-center gap-2 text-[#009879] font-medium py-2">
        <i data-lucide="badge-plus" class="w-4 h-4"></i> Ajukan Akun
      </a>

      <a href="{{ url_for('main.login') }}"
         class="flex items-center gap-2 bg-[#0F8A5F] text-white px-4 py-2 rounded-lg shadow">
        <i data-lucide="log-in" class="w-4 h-4"></i> Login
      </a>
    {% endif %}

  </div>
</nav>

<!-- SCRIPT: MOBILE TOGGLE -->
<script>
  const navToggle = document.getElementById('navToggle');
  const mobileMenu = document.getElementById('mobileMenu');

  navToggle.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });
</script>

<!-- LUCIDE ICONS -->
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
<script>
  lucide.createIcons();
</script>
